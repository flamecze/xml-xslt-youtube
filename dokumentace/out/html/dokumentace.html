<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Seznam YouTube vide&iacute;</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book"><div class="titlepage"><div><div><h1 class="title"><a name="d5e1"></a>Seznam YouTube vide&iacute;</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Martin</span> <span class="surname">Kapal</span></h3><code class="email">&lt;<a class="email" href="mailto:xkapm25@vse.cz">xkapm25@vse.cz</a>&gt;</code></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="preface"><a href="#d5e9">&Uacute;vod</a></span></dt><dt><span class="chapter"><a href="#d5e30">1. XML</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d5e32">Obsah dokumentu</a></span></dt><dt><span class="sect1"><a href="#d5e37">Popis element&#367;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d5e39">&Uacute;daje o seznamu vide&iacute;</a></span></dt><dt><span class="sect2"><a href="#d5e64">&Uacute;daje o videu</a></span></dt><dt><span class="sect2"><a href="#d5e117">&Uacute;daje o koment&aacute;&#345;&iacute;ch</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#d5e144">2. XML Schema</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d5e147">Struktura sch&eacute;matu</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d5e171">3. XSL Transformace</a></span></dt><dd><dl><dt><span class="sect1"><a href="#d5e181">Transformace do HTML</a></span></dt><dt><span class="sect1"><a href="#d5e189">Transformace do PDF</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d5e194">4. Schematron</a></span></dt></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a name="d5e9"></a>&Uacute;vod</h1></div></div></div><p>Semestr&aacute;ln&iacute; pr&aacute;ce p&#345;edstavuje u&#382;ivatelsk&yacute; seznam vide&iacute; z webu <a class="link" href="http://www.youtube.com" target="_top">YouTube</a>. Tento web poslou&#382;il rovn&#283;&#382; jako
            inspirace pro strukturu, obsah a vzhled v&yacute;stupn&iacute;ch soubor&#367;.</p><p>Pr&aacute;ce se skl&aacute;d&aacute; z t&#283;chto soubor&#367;:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>XML dokument &#8211; <code class="filename">playlist.xml</code></p></li><li class="listitem"><p>XML sch&eacute;ma &#8211; <code class="filename">playlist.xsd</code></p></li><li class="listitem"><p>XSL transformace do PDF &#8211; <code class="filename">playlist_FO.xsl</code></p></li><li class="listitem"><p>XSL transformace do HTML &#8211; <code class="filename">playlist_HTML.xsl</code></p></li><li class="listitem"><p>Schematron pravidla &#8211; <code class="filename">playlist.sch</code></p></li></ul></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="d5e30"></a>Chapter&nbsp;1.&nbsp;XML</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="#d5e32">Obsah dokumentu</a></span></dt><dt><span class="sect1"><a href="#d5e37">Popis element&#367;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#d5e39">&Uacute;daje o seznamu vide&iacute;</a></span></dt><dt><span class="sect2"><a href="#d5e64">&Uacute;daje o videu</a></span></dt><dt><span class="sect2"><a href="#d5e117">&Uacute;daje o koment&aacute;&#345;&iacute;ch</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e32"></a>Obsah dokumentu</h2></div></div></div><p>XML dokument <code class="filename">playlist.xml</code> p&#345;edstavuje samotn&yacute; seznam vide&iacute;.
                Uvnit&#345; ko&#345;enov&eacute;ho elementu <code class="code">seznam_videi</code> se nach&aacute;z&iacute; titulek seznamu,
                &uacute;daje o autorovi, datum vytvo&#345;en&iacute; a posledn&iacute; aktualizace seznamu, a &uacute;daj o tom, zda
                se jedn&aacute; o ve&#345;ejn&yacute; nebo soukrom&yacute; seznam.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e37"></a>Popis element&#367;</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="d5e39"></a>&Uacute;daje o seznamu vide&iacute;</h3></div></div></div><p>Ko&#345;enov&yacute; element <code class="code">seznam_videi</code> obsahuje atribut <code class="code">lid</code>,
                    kter&yacute; slou&#382;&iacute; jako identifik&aacute;tor. Uvnit&#345; ko&#345;enov&eacute;ho elementu je jako prvn&iacute; je
                    uveden element <code class="code">titulek</code> obsahuj&iacute;c&iacute; stru&#269;n&yacute; n&aacute;zev seznamu.</p><p>N&aacute;sleduj&iacute; informace o autorovi seznamu. Element <code class="code">autor</code> se v&aacute;&#382;e na
                    konkr&eacute;tn&iacute;ho u&#382;ivatele slu&#382;by YouTube, a tak je tento element pou&#382;it tak&eacute; u
                    autor&#367; vide&iacute; a koment&aacute;&#345;&#367;. Element obsahuje tyto atributy a podelementy:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">chid</code> &#8211; atribut ozna&#269;uj&iacute;c&iacute; ID YouTube kan&aacute;lu dan&eacute;ho
                            u&#382;ivatele</p></li><li class="listitem"><p><code class="code">jmeno</code> &#8211; jm&eacute;no a p&#345;&iacute;jmen&iacute; nebo u&#382;ivatelsk&eacute; jm&eacute;no
                            autora</p></li><li class="listitem"><p><code class="code">google_plus</code> &#8211; &#269;&iacute;seln&eacute; ID Google+ profilu autora</p></li><li class="listitem"><p><code class="code">overeno</code> &#8211; zda se jedn&aacute; o ov&#283;&#345;en&eacute;ho u&#382;ivatele</p></li></ul></div><p>D&aacute;le je zde element <code class="code">vytvoreno</code>, zna&#269;&iacute;c&iacute; datum a &#269;as vytvo&#345;en&iacute; seznamu,
                        <code class="code">aktualizovano</code> datum a &#269;as posledn&iacute; &uacute;pravy seznamu, a nakonec element
                        <code class="code">verejne</code>, kter&yacute; zna&#269;&iacute;, zda je seznam ve&#345;ejn&#283; dostupn&yacute;.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="d5e64"></a>&Uacute;daje o videu</h3></div></div></div><p>Hned po &uacute;daj&iacute;ch t&yacute;kaj&iacute;c&iacute;ch se seznamu vide&iacute; n&aacute;sleduje element
                        <code class="code">videa</code> obsahuj&iacute;c&iacute; jeden nebo v&iacute;ce element&#367; <code class="code">video</code>.
                    Ka&#382;d&yacute; element <code class="code">video</code> je jednozna&#269;n&#283; identifikov&aacute;n atributem
                        <code class="code">vid</code>, pomoc&iacute; kter&eacute;ho se lze na video odkazovat prost&#345;ednictv&iacute;m
                    URL.</p><p>N&aacute;sleduje v&yacute;&#269;et v&#353;ech element&#367; uvnit&#345; <code class="code">video</code> a jejich v&yacute;znam:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">titulek</code> &#8211; n&aacute;zev videa</p></li><li class="listitem"><p><code class="code">autor</code> &#8211; autor videa (viz v&yacute;&#353;e)</p></li><li class="listitem"><p><code class="code">nahrano</code> &#8211; datum a &#269;as nahr&aacute;n&iacute; videa</p></li><li class="listitem"><p><code class="code">publikovano</code> &#8211; datum a &#269;as zve&#345;ejn&#283;n&iacute; videa (m&#367;&#382;e se li&#353;it od data nahr&aacute;n&iacute;)</p></li><li class="listitem"><p><code class="code">delka</code> &#8211; d&eacute;lka videa</p></li><li class="listitem"><p><code class="code">zhlednuti</code> &#8211; po&#269;et zhl&eacute;dnut&iacute; videa</p></li><li class="listitem"><p><code class="code">likes</code> &#8211; po&#269;et lid&iacute;, kter&yacute;m se video l&iacute;b&iacute;</p></li><li class="listitem"><p><code class="code">dislikes</code> &#8211; po&#269;et lid&iacute;, kter&yacute;m se video nel&iacute;b&iacute;</p></li><li class="listitem"><p><code class="code">kvality</code> &#8211; seznam dostupn&yacute;ch rozli&#353;en&iacute; videa</p></li><li class="listitem"><p><code class="code">kvalita</code> &#8211; kvalita videa (rozli&#353;en&iacute;, p&#345;&iacute;p. po&#269;et sn&iacute;mk&#367; za sekundu)</p></li><li class="listitem"><p><code class="code">titulky</code> &#8211; seznam dostupn&yacute;ch jazyk&#367; s titulky</p></li><li class="listitem"><p><code class="code">titulek</code> &#8211; jazyk titulk&#367; (obsahuje atribut <code class="code">lang</code> p&#345;edstavuj&iacute;c&iacute; k&oacute;d ISO 639-1 dan&eacute;ho jazyka)</p></li><li class="listitem"><p><code class="code">popis</code> &#8211; popis videa (m&#367;&#382;e obsahovat &#345;&aacute;dkov&aacute;n&iacute;)</p></li><li class="listitem"><p><code class="code">komentare</code> &#8211; seznam v&#353;ech koment&aacute;&#345;&#367; t&yacute;kaj&iacute;c&iacute;ch se tohoto videa (viz n&iacute;&#382;e)</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="d5e117"></a>&Uacute;daje o koment&aacute;&#345;&iacute;ch</h3></div></div></div><p>Ke ka&#382;d&eacute;mu videu jsou p&#345;ipojeny i textov&eacute; koment&aacute;&#345;e od u&#382;ivatel&#367;. Koment&aacute;&#345;e mohou b&yacute;t hodnoceny kladn&#283; nebo z&aacute;porn&#283;.</p><p>N&aacute;sleduje v&yacute;&#269;et v&#353;ech element&#367; uvnit&#345; <code class="code">komentare</code> a jejich v&yacute;znam:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">komentar</code> &#8211; koment&aacute;&#345; k videu identifikovan&yacute; pomoc&iacute; atributu <code class="code">cid</code>, nepovinn&yacute; atribut <code class="code">replyto</code> ozna&#269;uje ID koment&aacute;&#345;e, na kter&yacute; koment&aacute;&#345; reaguje</p></li><li class="listitem"><p><code class="code">autor</code> &#8211; autor koment&aacute;&#345;e (viz v&yacute;&#353;e)</p></li><li class="listitem"><p><code class="code">zverejneno</code> &#8211; datum a &#269;as zve&#345;ejn&#283;n&iacute; koment&aacute;&#345;e</p></li><li class="listitem"><p><code class="code">text</code> &#8211; vlastn&iacute; text koment&aacute;&#345;e (m&#367;&#382;e obsahovat &#345;&aacute;dkov&aacute;n&iacute; pomoc&iacute; elementu <code class="code">br</code>)</p></li><li class="listitem"><p><code class="code">likes</code> &#8211; po&#269;et lid&iacute;, kter&yacute;m se koment&aacute;&#345; l&iacute;b&iacute;</p></li><li class="listitem"><p><code class="code">dislikes</code> &#8211; po&#269;et lid&iacute;, kter&yacute;m se koment&aacute;&#345; nel&iacute;b&iacute;</p></li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="d5e144"></a>Chapter&nbsp;2.&nbsp;XML Schema</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="#d5e147">Struktura sch&eacute;matu</a></span></dt></dl></div><p>Pomoc&iacute; XML sch&eacute;matu se ur&#269;uje, kter&eacute; elementy a atributy m&aacute; XML dokument obsahovat, kolik jich m&aacute; b&yacute;t a v jak&eacute;m maj&iacute; b&yacute;t po&#345;ad&iacute;. Z&aacute;rove&#328; XML Schema dovoluje definovat datov&eacute; typy element&#367; a atribut&#367;.</p><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e147"></a>Struktura sch&eacute;matu</h2></div></div></div><p>Soubor sch&eacute;matu <code class="filename">playlist.xsd</code> byl vytvo&#345;en ve stylu
                    <span class="quote">&#8220;<span class="quote">sal&aacute;mov&aacute; kole&#269;ka</span>&#8221;</span>. Proto&#382;e se v dokumentu nach&aacute;z&iacute; elementy, kter&eacute;
                se vyu&#382;&iacute;vaj&iacute; na v&iacute;ce m&iacute;stech, tento styl dovoluje definovat elementy pouze jednou a
                zp&#283;tn&#283; se na n&#283; odkazovat z v&iacute;ce m&iacute;st.</p><p>T&eacute;m&#283;&#345; v&#353;echny definovan&eacute; elementy jsou povinn&eacute;. Nepovinn&eacute; elementy jsou
                    <code class="code">aktualizovano</code> (datum posledn&iacute; aktualizace seznamu),
                    <code class="code">titulky</code>, <code class="code">popis</code> videa a <code class="code">komentar</code>. Po&#269;et
                element&#367; <code class="code">video</code>, <code class="code">kvalita</code>, <code class="code">jazyk</code> a
                    <code class="code">komentar</code> je neomezen&yacute;.</p><p>Co se t&yacute;&#269;e datov&yacute;ch typ&#367;, pro d&eacute;lku videa jsem zvolil typ
                <code class="code">xs:duration</code>, kter&yacute; umo&#382;&#328;uje z&aacute;pis ve tvaru nap&#345;. <code class="code">PT2M18S</code>
                (12 minut a 18 sekund). &#268;&iacute;seln&eacute; hodnoty maj&iacute; datov&yacute; typ <code class="code">xs:int</code>,
                elementy typu ano/ne pou&#382;&iacute;vaj&iacute; <code class="code">xs:boolean</code>.</p><p>Ve sch&eacute;matu je pou&#382;ito n&#283;kolik restrikc&iacute;. Identifik&aacute;tory povoluj&iacute; pouze ur&#269;itou
                sadu znak&#367;, a tak byla pou&#382;ita restrikce pomoc&iacute; regul&aacute;rn&iacute;ch v&yacute;raz&#367;
                    <code class="code">[A-Za-z0-9]+</code> &#269;i <code class="code">[A-Za-z0-9\-_]+</code>. Z&aacute;rove&#328; je u
                n&#283;kter&yacute;ch omezena d&eacute;lka na pevn&yacute; po&#269;et znak&#367;. Regul&aacute;rn&iacute; v&yacute;raz je tak&eacute; pou&#382;it u
                obsahu elementu <code class="code">kvalita</code>, kter&yacute; mus&iacute; vyhovovat v&yacute;razu
                    <code class="code">\d+p(60)?</code> (720p, 1080p60 apod.).</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="d5e171"></a>Chapter&nbsp;3.&nbsp;XSL Transformace</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="#d5e181">Transformace do HTML</a></span></dt><dt><span class="sect1"><a href="#d5e189">Transformace do PDF</a></span></dt></dl></div><p>P&#345;eveden&iacute; XML dokumentu do form&aacute;tu PDF a HTML je &#345;e&#353;eno pomoc&iacute; XSL transformace. Pro
            p&#345;evod do form&aacute;tu PDF se vyu&#382;&iacute;v&aacute; form&aacute;tovac&iacute;ch objekt&#367; (FO).</p><p>Seznam vide&iacute; je transformov&aacute;n s vyu&#382;it&iacute; dvou re&#382;im&#367; &#8211; <code class="code">seznam</code> a
                <code class="code">detail</code>. Oba v&yacute;pisy jsou &#345;azeny abecedn&#283; podle titulku videa pomoc&iacute;
                <code class="code">xsl:sort</code>. Obdobn&#283; jsou &#345;azeny koment&aacute;&#345;e podle obl&iacute;benosti.</p><p>V transformaci je tak&eacute; vyu&#382;ito v&#283;tven&iacute; pomoc&iacute; <code class="code">xs:if</code> a
                <code class="code">xs:choose</code>. Tak&eacute; byly pou&#382;ity pojmenovan&eacute; &#353;ablony s parametry pro
            opakovan&eacute; pou&#382;it&iacute; p&#345;i v&yacute;pisu d&eacute;lky videa nebo data a &#269;asu.</p><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e181"></a>Transformace do HTML</h2></div></div></div><p>P&#345;evod XML dokumentu do podoby HTML str&aacute;nek se prov&aacute;d&iacute; pomoc&iacute; souboru
                    <code class="filename">playlist_HTML.xsl</code>. Pro vzhled str&aacute;nky se vyu&#382;&iacute;v&aacute; extern&iacute;ho
                CSS souboru <code class="filename">playlist.css</code>, ve kter&eacute;m jsou definov&aacute;ny kask&aacute;dov&eacute;
                styly pro jednotliv&eacute; &#269;&aacute;sti dokumentu.</p><p>HTML v&yacute;stup je rozd&#283;len do v&iacute;ce soubor&#367;. Hlavn&iacute; str&aacute;nka
                    <code class="filename">playlist.html</code> obsahuje stru&#269;n&yacute; v&yacute;pis v&#353;ech vide&iacute; v seznamu.
                Po kliknut&iacute; na miniaturu nebo n&aacute;zev videa se zobraz&iacute; str&aacute;nka s podrobnostmi o dan&eacute;m
                videu. Na str&aacute;nce je vlo&#382;en tag <code class="code">iframe</code> s URL videa, tak&#382;e je mo&#382;n&eacute; si
                video p&#345;ehr&aacute;t.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e189"></a>Transformace do PDF</h2></div></div></div><p>P&#345;evod do PDF je &#345;e&#353;en pomoc&iacute; form&aacute;tovac&iacute;ch objekt&#367; (FO). Definice pro tuto
                transformaci jsou v souboru <code class="filename">playlist_FO.xsl</code>.</p><p>V z&aacute;hlav&iacute; str&aacute;nek je uveden autor semestr&aacute;ln&iacute; pr&aacute;ce, v z&aacute;pat&iacute; pak &#269;&iacute;slo str&aacute;nky.
                Na prvn&iacute; str&aacute;nce je stru&#269;n&yacute; seznam vide&iacute;, kter&yacute; se odkazuje na detailn&iacute; v&yacute;pis na
                dal&#353;&iacute;ch str&aacute;nk&aacute;ch pomoc&iacute; odkaz&#367;.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="d5e194"></a>Chapter&nbsp;4.&nbsp;Schematron</h1></div></div></div><p>Schematron p&#345;edstavuje soubor pravidel, kter&aacute; mus&iacute; XML dokument spl&#328;ovat. Pokud je nespl&#328;uje, zobraz&iacute; se p&#345;i validaci chybov&aacute; zpr&aacute;va.</p><p>Soubor <code class="filename">playlist.sch</code> kontroluje:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>datum vytvo&#345;en&iacute; a aktualizace seznamu</p></li><li class="listitem"><p>datum nahr&aacute;n&iacute; a publikov&aacute;n&iacute; videa</p></li><li class="listitem"><p>datum p&#345;id&aacute;n&iacute; koment&aacute;&#345;e</p></li><li class="listitem"><p>jedine&#269;nost identifik&aacute;tor&#367; vide&iacute;</p></li></ul></div></div></div></body></html>